---
import Layout from '../../layouts/Layout.astro';
import VideoPlayer from '../../components/VideoPlayer.astro';

// Mock data - Replace with API call in production
const movie = {
  id: "1",
  title: "The Dark Knight",
  description: "When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, Batman must accept one of the greatest psychological and physical tests of his ability to fight injustice.",
  videoUrl: "https://example.com/video.mp4",
  duration: "2h 32min",
  year: "2008",
  genre: "Action",
  rating: 9.0,
  downloadUrl: "https://example.com/download/the-dark-knight"
};

const recommendations = [
  {
    title: "Inception",
    image: "https://images.unsplash.com/photo-1440404653325-ab127d49abc1?ixlib=rb-4.0.3",
    rating: 8.8,
    genre: "Sci-Fi"
  }
];
---

<Layout title={`Watch ${movie.title} - StreamFlix`}>
  <div class="pt-16">
    <!-- Video Player Section -->
    <VideoPlayer videoUrl={movie.videoUrl} title={movie.title} />

    <!-- Movie Information -->
    <div class="container mx-auto px-4 py-8">
      <div class="flex justify-between items-start">
        <div class="max-w-2xl">
          <h1 class="text-3xl font-bold mb-4">{movie.title}</h1>
          <div class="flex items-center gap-4 text-sm text-gray-400 mb-4">
            <span>{movie.year}</span>
            <span>{movie.duration}</span>
            <span class="bg-accent/90 text-white px-2 py-1 rounded">{movie.genre}</span>
          </div>
          <p class="text-gray-300 mb-6">{movie.description}</p>
        </div>
        
        <!-- Action Buttons -->
        <div class="flex gap-4">
          <button class="flex items-center gap-2 bg-accent hover:bg-accent/90 px-6 py-3 rounded-md transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
            </svg>
            Like
          </button>
          <a 
            href={movie.downloadUrl}
            class="flex items-center gap-2 bg-secondary hover:bg-secondary/90 px-6 py-3 rounded-md transition-colors"
            download
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
            Download
          </a>
        </div>
      </div>
    </div>
  </div>
</Layout>